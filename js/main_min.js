const appointment=document.querySelector(".appointment"),appointmentButtonOpen=document.querySelector(".appointment-open"),appointmentButtonClose=appointment.querySelector(".appointment-close"),appointmentForm=appointment.querySelector(".appointment-form"),appointmentNameInput=appointment.querySelector("#appointment-name"),appointmentEmailInput=appointment.querySelector("#appointment-email"),appointmentTextInput=appointment.querySelector("#appointment-letter");let isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name")}catch(t){isStorageSupport=!1}try{storageEmail=localStorage.getItem("email")}catch(t){isStorageSupport=!1}appointmentButtonOpen.addEventListener("click",function(t){appointment.classList.add("popup"),storageName?(appointmentNameInput.value=storageName,storageEmail?(appointmentEmailInput.value=storageEmail,appointmentTextInput.focus()):appointmentEmailInput.focus()):appointmentNameInput.focus()}),appointmentButtonClose.addEventListener("click",function(t){appointment.classList.remove("popup"),appointment.classList.remove("appointment-error")}),window.addEventListener("keydown",function(t){27===t.code&&(appointment.classList.remove("popup"),appointment.classList.remove("appointment-error"))}),appointmentForm.addEventListener("submit",function(t){appointmentNameInput.value&&appointmentEmailInput.value&&appointmentTextInput.value?isStorageSupport&&(localStorage.setItem("name",appointmentNameInput.value),localStorage.setItem("email",appointmentEmailInput.value)):(t.preventDefault(),appointment.classList.remove("appointment-error"),appointment.offsetWidth=appointment.offsetWidth,appointment.classList.add("appointment-error"))});
